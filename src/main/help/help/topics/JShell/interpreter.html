<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>
  <HEAD>
    <META name="generator" content=
    "HTML Tidy for Java (vers. 2009-12-01), see jtidy.sourceforge.net">
    <META http-equiv="Content-Language" content="en-us">
    <META http-equiv="Content-Type" content="text/html; charset=windows-1252">
    <META name="GENERATOR" content="Microsoft FrontPage 4.0">
    <META name="ProgId" content="FrontPage.Editor.Document">

    <TITLE>JShell Interpreter</TITLE>
    <LINK rel="stylesheet" type="text/css" href="../../shared/Frontpage.css">
  </HEAD>

  <BODY>
    <H1><a name="JShell"></a>JShell Interpreter</H1>

    <P>
    Ruby Dragon adds an interactive Java shell to Ghidra for use in script
    development and running snippets of Java.
    </P>

    <P>
    This is accomplished using JShell, which is included in Java.
    </P>

    <H2>Environment</H2>
    <BLOCKQUOTE>
    <P>
    The JShell interactive interpreter runs as a simple Java REPL.

    The same variables that are available in Ghidra's Java and Python
    environments are also available in the JShell interpreter as global
    variables:
    </P>

    <PRE>
    currentAddress
    currentHighlight
    currentLocation
    currentProgram
    currentSelection
    </PRE>

    <P>
    There is also an extra variable named currentAPI which provides an instance
    of FlatProgramAPI created using currentProgram. This provides many (though
    not all) convenience functions available in a GhidraScript instance.
    </P>
    </BLOCKQUOTE>

    <H2>Copy/Paste</H2>
    <BLOCKQUOTE>
    <P>
    Copy and paste from within the JShell interpreter should work as expected
    for your given environment:
    <UL>
      <LI><B>Windows:</B>&nbsp;&nbsp;CTRL+C / CTRL+V</LI>
      <LI><B>Linux:</B>&nbsp;&nbsp;CTRL+C / CTRL+V</LI>
      <LI><B>OS X:</B>&nbsp;&nbsp;COMMAND+C / COMMAND+V</LI>
    </UL>
    </P>
    </BLOCKQUOTE>

    <H2><A name="Clear_JShell_Interpreter"></A>Clear <IMG border="0" src="images/erase16.png"></H2>
    <BLOCKQUOTE>
    <P>
    This command clears the interpreter's display.  Its effect is purely visual.
    It does not affect the state of the interpreter in any way.
    </P>
    </BLOCKQUOTE>

    <H2><A name="Interrupt_JShell_Interpreter"></A>Interrupt <IMG border="0" src="images/dialog-cancel.png"></H2>
    <BLOCKQUOTE>
    <P>
    This command issues a stop action to the interpreter, which can be used to interrupt
    long running commands or loops.
    </P>
    </BLOCKQUOTE>

    <H2><A name="Reset_JShell_Interpreter"></A>Reset <IMG border="0" src="images/reload3.png"></H2>
    <BLOCKQUOTE>
    <P>
    This command resets the interpreter, which clears the display and resets all state.
    </P>
    </BLOCKQUOTE>

    <H2><A name="Import_Classes_In_JShell_Interpreter"></A>Import Classes Option</H2>
    <BLOCKQUOTE>
    <P>
    When this option is set to true, then a number of Ghidra classes are
    imported in the JShell interactive interpreter automatically. This is
    particularly useful when using snippets copied from other sources or
    scripts, so that import statements are not needed to have access to Ghidra
    classes.
    </P>

    <P>
    The list of classes (and their containing packages) is in a data file
    included in this extension's data folder named preload.xml. If you wish to
    add or remove classes from this list, edit this file and reset the
    interpeter.
    </P>
    </BLOCKQUOTE>

    <P align="left" class="providedbyplugin">Provided by: <I>JShellDragon</I></P>
  </BODY>
</HTML>
